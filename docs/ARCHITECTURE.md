# π—οΈ DantaroWallet Pro - μ•„ν‚¤ν…μ² κ°€μ΄λ“

**μ—…λ°μ΄νΈ**: 2025λ…„ 7μ›” 5μΌ  
**μƒνƒ**: λ¦¬ν©ν† λ§ μ™„λ£, λ¨λ“ν™” μ•„ν‚¤ν…μ² μ μ©

---

## π“‹ **μ „μ²΄ μ•„ν‚¤ν…μ² κ°μ”**

DantaroWallet Proλ” **ν΄λ¦° μ•„ν‚¤ν…μ²** μ›μΉ™μ„ λ”°λ¥΄λ” λ¨λ“ν™”λ TRON λΈ”λ΅μ²΄μΈ μ§€κ°‘ μ‹μ¤ν…μ…λ‹λ‹¤.

### π― **μ„¤κ³„ μ›μΉ™**
1. **λ‹¨μΌ μ±…μ„ μ›μΉ™ (SRP)**: κ° λ¨λ“μ€ ν•λ‚μ λ„λ©”μΈλ§ λ‹΄λ‹Ή
2. **μμ΅΄μ„± μ—­μ „ (DIP)**: μ¶”μƒν™”μ— μμ΅΄, κµ¬ν„μ²΄μ— μμ΅΄ν•μ§€ μ•μ
3. **λ¨λ“ν™” μ°μ„ **: ν΄λ” κΈ°λ° λ„λ©”μΈ λ¶„λ¦¬
4. **λ κ±°μ‹ νΈν™μ„±**: κΈ°μ΅΄ import κ²½λ΅ μ§€μ›

---

## π“ **ν΄λ” κµ¬μ΅°**

```
DantaroWalletPro/
β”β”€β”€ dantarowallet/                 # λ©”μΈ μ• ν”λ¦¬μΌ€μ΄μ…
β”‚   β”β”€β”€ app/
β”‚   β”‚   β”β”€β”€ api/                   # API λ μ΄μ–΄
β”‚   β”‚   β”‚   β””β”€β”€ v1/endpoints/      # REST API μ—”λ“ν¬μΈνΈ
β”‚   β”‚   β”β”€β”€ core/                  # ν•µμ‹¬ μΈν”„λΌ
β”‚   β”‚   β”‚   β”β”€β”€ tron/              # TRON λΈ”λ΅μ²΄μΈ λ¨λ“
β”‚   β”‚   β”‚   β”β”€β”€ config.py          # μ„¤μ • κ΄€λ¦¬
β”‚   β”‚   β”‚   β”β”€β”€ database.py        # DB μ—°κ²°
β”‚   β”‚   β”‚   β”β”€β”€ security.py        # λ³΄μ• κΈ°λ¥
β”‚   β”‚   β”‚   β””β”€β”€ exceptions.py      # μμ™Έ μ²λ¦¬
β”‚   β”‚   β”β”€β”€ services/              # λΉ„μ¦λ‹μ¤ λ΅μ§ λ μ΄μ–΄
β”‚   β”‚   β”‚   β”β”€β”€ admin/             # κ΄€λ¦¬μ κΈ°λ¥
β”‚   β”‚   β”‚   β”β”€β”€ balance/           # μ”κ³  κ΄€λ¦¬
β”‚   β”‚   β”‚   β”β”€β”€ wallet/            # μ§€κ°‘ κ΄€λ¦¬
β”‚   β”‚   β”‚   β”β”€β”€ withdrawal/        # μ¶κΈ μ²λ¦¬
β”‚   β”‚   β”‚   β”β”€β”€ deposit_monitoring/ # μ…κΈ λ¨λ‹ν„°λ§
β”‚   β”‚   β”‚   β”β”€β”€ transaction_analytics/ # νΈλμ­μ… λ¶„μ„
β”‚   β”‚   β”‚   β””β”€β”€ energy/            # μ—λ„μ§€ κ΄€λ¦¬
β”‚   β”‚   β”β”€β”€ models/                # λ°μ΄ν„° λ¨λΈ
β”‚   β”‚   β”β”€β”€ schemas/               # API μ¤ν‚¤λ§
β”‚   β”‚   β””β”€β”€ middleware/            # λ―Έλ“¤μ›¨μ–΄
β”‚   β””β”€β”€ tests/                     # ν…μ¤νΈ μ½”λ“
β””β”€β”€ docs/                          # ν”„λ΅μ νΈ λ¬Έμ„
```

---

## π”§ **ν•µμ‹¬ λ¨λ“ μ„¤λ…**

### 1. **TRON λΈ”λ΅μ²΄μΈ λ¨λ“** (`app/core/tron/`)

**μ™„μ „ν λ¨λ“ν™”λ TRON μ—°λ™ μ‹μ¤ν…**

```
app/core/tron/
β”β”€β”€ __init__.py          # λ¨λ“  ν΄λμ¤ export
β”β”€β”€ constants.py         # TRON μƒμ λ° μ„¤μ •
β”β”€β”€ network.py          # λ„¤νΈμ›ν¬ μ—°κ²° κ΄€λ¦¬
β”β”€β”€ wallet.py           # μ§€κ°‘ κ΄€λ¦¬
β”β”€β”€ balance.py          # μ”κ³  μ΅°ν
β”β”€β”€ energy.py           # μ—λ„μ§€ λ° λ¦¬μ†μ¤ κ΄€λ¦¬
β”β”€β”€ stats.py            # λ„¤νΈμ›ν¬ ν†µκ³„
β”β”€β”€ transaction.py      # νΈλμ­μ… κ΄€λ¦¬
β””β”€β”€ service.py          # ν†µν•© μ„λΉ„μ¤ (Facade)
```

**μ£Όμ” νΉμ§•:**
- β… λ„¤μ΄λ° μ¤‘λ³µ λ¬Έμ  ν•΄κ²° (`tron_*.py` β†’ `tron/*.py`)
- β… λ‹¨μΌ μ±…μ„ μ›μΉ™ μ μ©
- β… Facade ν¨ν„΄μΌλ΅ λ³µμ΅μ„± μ¨κΉ€
- β… λ κ±°μ‹ νΈν™μ„± μ μ§€

### 2. **μ„λΉ„μ¤ λ μ΄μ–΄** (`app/services/`)

**λ„λ©”μΈλ³„ λ¨λ“ν™”λ λΉ„μ¦λ‹μ¤ λ΅μ§**

#### **λ¨λ“ν™”λ μ„λΉ„μ¤λ“¤:**
- **Admin**: κ΄€λ¦¬μ κΈ°λ¥ (μ‹μ¤ν… λ¨λ‹ν„°λ§, μ‚¬μ©μ κ΄€λ¦¬, νΈλμ­μ… λ¨λ‹ν„°λ§)
- **Balance**: μ”κ³  κ΄€λ¦¬ (μ΅°ν, νΈλμ­μ…, μ΄μ²΄, μ΅°μ •)
- **Wallet**: μ§€κ°‘ κ΄€λ¦¬ (μƒμ„±, μ΅°ν, λ¨λ‹ν„°λ§)
- **Withdrawal**: μ¶κΈ μ²λ¦¬ (κ²€μ¦, μ”μ²­, μ²λ¦¬, μ΅°ν)
- **Deposit Monitoring**: μ…κΈ λ¨λ‹ν„°λ§ (λΈ”λ΅μ²΄μΈ μ¤μΊ”, μλ™ μ²λ¦¬)
- **Transaction Analytics**: νΈλμ­μ… λ¶„μ„ (ν†µκ³„, λ¦¬ν¬νΈ)
- **Energy**: TRON μ—λ„μ§€ κ΄€λ¦¬ (μ—λ„μ§€ ν’€, λ€μ—¬)

#### **νΈν™μ„± λ³΄μ¥:**
```python
# μƒλ΅μ΄ λ¨λ“ν™” λ°©μ‹
from app.services.admin import AdminService

# κΈ°μ΅΄ λ°©μ‹ (λ κ±°μ‹ νΈν™)
from app.services.admin_service import AdminService
```

### 3. **API λ μ΄μ–΄** (`app/api/v1/endpoints/`)

**RESTful API μ—”λ“ν¬μΈνΈ**
- 18κ° API νμΌ κµ¬ν„
- λ²„μ „ κ΄€λ¦¬ μ§€μ› (v1/)
- μλ™ λ¬Έμ„ν™” (FastAPI)
- μΈμ¦ λ° κ¶ν• κ΄€λ¦¬

---

## π¨ **μ μ©λ λ””μμΈ ν¨ν„΄**

### 1. **Facade ν¨ν„΄**
- `TronService`: λ³µμ΅ν• TRON λ¨λ“λ“¤μ„ λ‹¨μν• μΈν„°νμ΄μ¤λ΅ μ κ³µ
- `AdminService`: μ—¬λ¬ κ΄€λ¦¬μ κΈ°λ¥μ„ ν†µν•© μΈν„°νμ΄μ¤λ΅ μ κ³µ

### 2. **Repository ν¨ν„΄**
- κ° λ¨λΈλ³„ λ°μ΄ν„° μ ‘κ·Ό λ΅μ§ λ¶„λ¦¬
- ORMκ³Ό λΉ„μ¦λ‹μ¤ λ΅μ§ λ¶„λ¦¬

### 3. **Service Layer ν¨ν„΄**
- λ„λ©”μΈλ³„ λΉ„μ¦λ‹μ¤ λ΅μ§ μΊ΅μν™”
- APIμ™€ λ°μ΄ν„° λ μ΄μ–΄ μ‚¬μ΄μ μ¤‘κ°„ κ³„μΈµ

### 4. **Module ν¨ν„΄**
- κΈ°λ¥λ³„ ν΄λ” κµ¬μ΅°
- λ…ν™•ν• μμ΅΄μ„± κ΄€λ¦¬

---

## π”— **μμ΅΄μ„± κ΄€κ³„**

```
API Layer (endpoints)
    β†“
Service Layer (services)
    β†“
Core Layer (tron, database, etc)
    β†“
Model Layer (SQLAlchemy models)
```

**μ£Όμ” μ›μΉ™:**
- μƒμ„ λ μ΄μ–΄λ” ν•μ„ λ μ΄μ–΄μ—λ§ μμ΅΄
- ν•μ„ λ μ΄μ–΄λ” μƒμ„ λ μ΄μ–΄λ¥Ό μ•μ§€ λ»ν•¨
- μΈν„°νμ΄μ¤λ¥Ό ν†µν• μμ΅΄μ„± μ£Όμ…

---

## π€ **μ„±λ¥ λ° ν™•μ¥μ„±**

### **ν„μ¬ κµ¬ν„λ μµμ ν™”:**
- β… λ¨λ“λ³„ λ…λ¦½μ  λ΅λ”©
- β… μ§€μ—° λ΅λ”© (Lazy Loading) μ μ©
- β… μΊμ‹± λ μ΄μ–΄ μ¤€λΉ„
- β… λΉ„λ™κΈ° μ²λ¦¬ (FastAPI + AsyncIO)

### **ν–¥ν›„ ν™•μ¥ κ°€λ¥μ„±:**
- π”„ λ§μ΄ν¬λ΅μ„λΉ„μ¤ λ¶„λ¦¬ κ°€λ¥
- π”„ Redis μΊμ‹± λ μ΄μ–΄ μ¶”κ°€
- π”„ λ©”μ‹μ§€ ν μ‹μ¤ν… μ—°λ™
- π”„ λ΅λ“ λ°Έλ°μ‹± μ§€μ›

---

## π“ **κ°λ° κ°€μ΄λ“λΌμΈ**

### **μƒλ΅μ΄ κΈ°λ¥ μ¶”κ°€ μ‹:**
1. μ μ ν• λ„λ©”μΈ ν΄λ”μ— λ¨λ“ μƒμ„±
2. λ‹¨μΌ μ±…μ„ μ›μΉ™ μ¤€μ
3. κΈ°μ΅΄ ν¨ν„΄ μΌκ΄€μ„± μ μ§€
4. λ κ±°μ‹ νΈν™μ„± κ³ λ ¤

### **μ½”λ“ ν’μ§ κΈ°μ¤€:**
- Type hints ν•„μ
- Docstring μ‘μ„±
- λ‹¨μ„ ν…μ¤νΈ ν¬ν•¨
- μ—λ¬ μ²λ¦¬ κ°•ν™”

---

*μ΄ μ•„ν‚¤ν…μ²λ” μ§€μ†μ μΌλ΅ κ°μ„ λλ©°, μƒλ΅μ΄ μ”κµ¬μ‚¬ν•­μ— λ”°λΌ ν™•μ¥λ©λ‹λ‹¤.*
